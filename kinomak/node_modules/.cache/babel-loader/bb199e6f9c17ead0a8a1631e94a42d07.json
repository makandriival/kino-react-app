{"ast":null,"code":"import React from'react';import NothingHereYet from'../NothingHereYet';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Watched(props){var imgBaseUrl='http://image.tmdb.org/t/p/w500';// const toWatchList = JSON.parse(localStorage.getItem('listToWatch'));\nvar watchedListData=localStorage.getItem('listWatched');var watchedList=JSON.parse(watchedListData);var openModal=function openModal(id){props.openModal('open');var clickedMovie=watchedList.find(function(elem){return elem.id===id;});props.getClickedMovie(clickedMovie);};var handleDelete=function handleDelete(id){var movieIdx=watchedList.indexOf(watchedList.find(function(elem){return elem.id===id;}));watchedList.splice(movieIdx,1);localStorage.setItem('listWatched',JSON.stringify(watchedList));// console.log(movieIdx)\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Watched!\"}),watchedList===null?/*#__PURE__*/_jsx(NothingHereYet,{}):watchedList.map(function(movie){return/*#__PURE__*/_jsxs(\"div\",{className:\"pop_movie_list_item\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){openModal(movie.id);},children:[/*#__PURE__*/_jsx(\"h3\",{children:movie.title}),/*#__PURE__*/_jsx(\"img\",{src:imgBaseUrl+movie.poster_path,alt:movie.title,className:\"most_popular_img\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"avg_rating\",children:[\" Rate: \",movie.vote_average,\" \"]})]},movie.id),/*#__PURE__*/_jsx(\"button\",{className:\"delete_btn\",onClick:function onClick(){handleDelete(movie.id);},children:\"delete\"})]});})]});}","map":{"version":3,"names":["React","NothingHereYet","Watched","props","imgBaseUrl","watchedListData","localStorage","getItem","watchedList","JSON","parse","openModal","id","clickedMovie","find","elem","getClickedMovie","handleDelete","movieIdx","indexOf","splice","setItem","stringify","map","movie","title","poster_path","vote_average"],"sources":["/Users/andriimakarov/Documents/GitHub/kino-react-app/kinomak/src/components/library/Watched.jsx"],"sourcesContent":["import React from 'react'\nimport NothingHereYet from '../NothingHereYet';\n\nexport default function Watched(props) {\n\n\n    const imgBaseUrl = 'http://image.tmdb.org/t/p/w500';\n  // const toWatchList = JSON.parse(localStorage.getItem('listToWatch'));\n  const watchedListData = localStorage.getItem('listWatched')\n  const watchedList = JSON.parse(watchedListData);\n  const openModal = (id)=>{\n    props.openModal('open')\n    const clickedMovie =  watchedList.find(elem => elem.id === id);\n    props.getClickedMovie(clickedMovie);\n    \n  }\n\n    const handleDelete = (id)=>{\n        const movieIdx = watchedList.indexOf(watchedList.find(elem => elem.id === id))\n        watchedList.splice( movieIdx, 1);\n        localStorage.setItem('listWatched' , JSON.stringify(watchedList));\n        // console.log(movieIdx)\n      };\n\n  return (\n    <div>\n        <h2>Watched!</h2>\n        { watchedList === null ? <NothingHereYet/> : watchedList.map(movie =>( \n        <div className='pop_movie_list_item'>\n\n      <div key={movie.id}  onClick = {()=>{openModal(movie.id)}}>\n        <h3>{movie.title}</h3>\n        <img src={imgBaseUrl + movie.poster_path} alt={movie.title} className='most_popular_img'/>\n        <br />\n        <span className='avg_rating'> Rate: {movie.vote_average} </span>\n      </div>\n        <button className='delete_btn' onClick={()=>{handleDelete(movie.id)}}>delete</button>\n        </div>          \n      ))}\n    </div>\n  )\n}\n"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,eAAP,KAA2B,mBAA3B,C,wFAEA,cAAe,SAASC,QAAT,CAAiBC,KAAjB,CAAwB,CAGnC,GAAMC,WAAU,CAAG,gCAAnB,CACF;AACA,GAAMC,gBAAe,CAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAxB,CACA,GAAMC,YAAW,CAAGC,IAAI,CAACC,KAAL,CAAWL,eAAX,CAApB,CACA,GAAMM,UAAS,CAAG,QAAZA,UAAY,CAACC,EAAD,CAAM,CACtBT,KAAK,CAACQ,SAAN,CAAgB,MAAhB,EACA,GAAME,aAAY,CAAIL,WAAW,CAACM,IAAZ,CAAiB,SAAAC,IAAI,QAAIA,KAAI,CAACH,EAAL,GAAYA,EAAhB,EAArB,CAAtB,CACAT,KAAK,CAACa,eAAN,CAAsBH,YAAtB,EAED,CALD,CAOE,GAAMI,aAAY,CAAG,QAAfA,aAAe,CAACL,EAAD,CAAM,CACvB,GAAMM,SAAQ,CAAGV,WAAW,CAACW,OAAZ,CAAoBX,WAAW,CAACM,IAAZ,CAAiB,SAAAC,IAAI,QAAIA,KAAI,CAACH,EAAL,GAAYA,EAAhB,EAArB,CAApB,CAAjB,CACAJ,WAAW,CAACY,MAAZ,CAAoBF,QAApB,CAA8B,CAA9B,EACAZ,YAAY,CAACe,OAAb,CAAqB,aAArB,CAAqCZ,IAAI,CAACa,SAAL,CAAed,WAAf,CAArC,EACA;AACD,CALH,CAOF,mBACE,oCACI,gCADJ,CAEMA,WAAW,GAAK,IAAhB,cAAuB,KAAC,cAAD,IAAvB,CAA2CA,WAAW,CAACe,GAAZ,CAAgB,SAAAC,KAAK,qBAClE,aAAK,SAAS,CAAC,qBAAf,wBAEF,aAAqB,OAAO,CAAI,kBAAI,CAACb,SAAS,CAACa,KAAK,CAACZ,EAAP,CAAT,CAAoB,CAAzD,wBACE,oBAAKY,KAAK,CAACC,KAAX,EADF,cAEE,YAAK,GAAG,CAAErB,UAAU,CAAGoB,KAAK,CAACE,WAA7B,CAA0C,GAAG,CAAEF,KAAK,CAACC,KAArD,CAA4D,SAAS,CAAC,kBAAtE,EAFF,cAGE,aAHF,cAIE,cAAM,SAAS,CAAC,YAAhB,qBAAqCD,KAAK,CAACG,YAA3C,OAJF,GAAUH,KAAK,CAACZ,EAAhB,CAFE,cAQA,eAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAE,kBAAI,CAACK,YAAY,CAACO,KAAK,CAACZ,EAAP,CAAZ,CAAuB,CAApE,oBARA,GADkE,EAArB,CAFjD,GADF,CAiBD"},"metadata":{},"sourceType":"module"}