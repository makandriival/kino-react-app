{"ast":null,"code":"import React from'react';import NothingHereYet from'../NothingHereYet';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ToWatch(props){var imgBaseUrl='http://image.tmdb.org/t/p/w500';// const toWatchList = JSON.parse(localStorage.getItem('listToWatch'));\nvar toWatchListData=localStorage.getItem('listToWatch');var toWatchList=JSON.parse(toWatchListData);console.log(toWatchList);var openModal=function openModal(id){props.openModal('open');var clickedMovie=toWatchList.find(function(elem){return elem.id===id;});props.getClickedMovie(clickedMovie);};var handleDelete=function handleDelete(id){var movieIdx=toWatchList.indexOf(toWatchList.find(function(elem){return elem.id===id;}));toWatchList.splice(movieIdx,1);localStorage.setItem('listToWatch',JSON.stringify(toWatchList));// console.log(movieIdx)\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"To Watch!\"}),toWatchList===null?/*#__PURE__*/_jsx(NothingHereYet,{}):toWatchList.map(function(movie){return/*#__PURE__*/_jsxs(\"div\",{className:\"pop_movie_list_item\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){openModal(movie.id);},children:[/*#__PURE__*/_jsx(\"h3\",{children:movie.title}),/*#__PURE__*/_jsx(\"img\",{src:imgBaseUrl+movie.poster_path,alt:movie.title,className:\"most_popular_img\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"avg_rating\",children:[\" Rate: \",movie.vote_average,\" \"]})]},movie.id),/*#__PURE__*/_jsx(\"button\",{className:\"delete_btn\",onClick:function onClick(){handleDelete(movie.id);},children:\"delete\"})]});})]});}","map":{"version":3,"names":["React","NothingHereYet","ToWatch","props","imgBaseUrl","toWatchListData","localStorage","getItem","toWatchList","JSON","parse","console","log","openModal","id","clickedMovie","find","elem","getClickedMovie","handleDelete","movieIdx","indexOf","splice","setItem","stringify","map","movie","title","poster_path","vote_average"],"sources":["/Users/andriimakarov/Documents/GitHub/kino-react-app/kinomak/src/components/library/ToWatch.jsx"],"sourcesContent":["import React from 'react'\nimport NothingHereYet from '../NothingHereYet';\n\nexport default function ToWatch(props) {\n\n\n  const imgBaseUrl = 'http://image.tmdb.org/t/p/w500';\n  // const toWatchList = JSON.parse(localStorage.getItem('listToWatch'));\n  const toWatchListData = localStorage.getItem('listToWatch');\n  const toWatchList = JSON.parse(toWatchListData);\n  console.log(toWatchList);\n  const openModal = (id)=>{\n    props.openModal('open')\n    const clickedMovie =  toWatchList.find(elem => elem.id === id);\n    props.getClickedMovie(clickedMovie);\n    \n  }\n\n    const handleDelete = (id)=>{\n        const movieIdx = toWatchList.indexOf(toWatchList.find(elem => elem.id === id))\n        toWatchList.splice( movieIdx, 1);\n        localStorage.setItem('listToWatch' , JSON.stringify(toWatchList));\n        // console.log(movieIdx)\n      };\n\n\n  return (\n    <div>\n      <h2>To Watch!</h2>\n      { toWatchList === null ? <NothingHereYet/> : toWatchList.map(movie =>( \n        <div className='pop_movie_list_item'>\n      <div key={movie.id}  onClick = {()=>{openModal(movie.id)}}>\n        <h3>{movie.title}</h3>\n        <img src={imgBaseUrl + movie.poster_path} alt={movie.title} className='most_popular_img'/>\n        <br />\n        <span className='avg_rating'> Rate: {movie.vote_average} </span>\n      </div>\n        <button className='delete_btn' onClick={()=>{handleDelete(movie.id)}}>delete</button>\n        </div>          \n      ))}\n    </div>\n  )\n}\n"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,eAAP,KAA2B,mBAA3B,C,wFAEA,cAAe,SAASC,QAAT,CAAiBC,KAAjB,CAAwB,CAGrC,GAAMC,WAAU,CAAG,gCAAnB,CACA;AACA,GAAMC,gBAAe,CAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAxB,CACA,GAAMC,YAAW,CAAGC,IAAI,CAACC,KAAL,CAAWL,eAAX,CAApB,CACAM,OAAO,CAACC,GAAR,CAAYJ,WAAZ,EACA,GAAMK,UAAS,CAAG,QAAZA,UAAY,CAACC,EAAD,CAAM,CACtBX,KAAK,CAACU,SAAN,CAAgB,MAAhB,EACA,GAAME,aAAY,CAAIP,WAAW,CAACQ,IAAZ,CAAiB,SAAAC,IAAI,QAAIA,KAAI,CAACH,EAAL,GAAYA,EAAhB,EAArB,CAAtB,CACAX,KAAK,CAACe,eAAN,CAAsBH,YAAtB,EAED,CALD,CAOE,GAAMI,aAAY,CAAG,QAAfA,aAAe,CAACL,EAAD,CAAM,CACvB,GAAMM,SAAQ,CAAGZ,WAAW,CAACa,OAAZ,CAAoBb,WAAW,CAACQ,IAAZ,CAAiB,SAAAC,IAAI,QAAIA,KAAI,CAACH,EAAL,GAAYA,EAAhB,EAArB,CAApB,CAAjB,CACAN,WAAW,CAACc,MAAZ,CAAoBF,QAApB,CAA8B,CAA9B,EACAd,YAAY,CAACiB,OAAb,CAAqB,aAArB,CAAqCd,IAAI,CAACe,SAAL,CAAehB,WAAf,CAArC,EACA;AACD,CALH,CAQF,mBACE,oCACE,iCADF,CAEIA,WAAW,GAAK,IAAhB,cAAuB,KAAC,cAAD,IAAvB,CAA2CA,WAAW,CAACiB,GAAZ,CAAgB,SAAAC,KAAK,qBAChE,aAAK,SAAS,CAAC,qBAAf,wBACF,aAAqB,OAAO,CAAI,kBAAI,CAACb,SAAS,CAACa,KAAK,CAACZ,EAAP,CAAT,CAAoB,CAAzD,wBACE,oBAAKY,KAAK,CAACC,KAAX,EADF,cAEE,YAAK,GAAG,CAAEvB,UAAU,CAAGsB,KAAK,CAACE,WAA7B,CAA0C,GAAG,CAAEF,KAAK,CAACC,KAArD,CAA4D,SAAS,CAAC,kBAAtE,EAFF,cAGE,aAHF,cAIE,cAAM,SAAS,CAAC,YAAhB,qBAAqCD,KAAK,CAACG,YAA3C,OAJF,GAAUH,KAAK,CAACZ,EAAhB,CADE,cAOA,eAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAE,kBAAI,CAACK,YAAY,CAACO,KAAK,CAACZ,EAAP,CAAZ,CAAuB,CAApE,oBAPA,GADgE,EAArB,CAF/C,GADF,CAgBD"},"metadata":{},"sourceType":"module"}