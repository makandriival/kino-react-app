{"ast":null,"code":"import _slicedToArray from\"/Users/andriimakarov/Documents/GitHub/kino-react-app/kinomak/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function SinglePage(props){var imgBaseUrl='http://image.tmdb.org/t/p/w500';var movie=props.clickedMovieData;var wArr=props.watchedArr;var tArr=props.toWatchArr;var _useState=useState('add'),_useState2=_slicedToArray(_useState,2),wBtn=_useState2[0],setWBtn=_useState2[1];var _useState3=useState('add'),_useState4=_slicedToArray(_useState3,2),tBtn=_useState4[0],setTBtn=_useState4[1];useEffect(function(){wArr.includes(movie.id)==true?setWBtn('del'):setWBtn('add');tArr.includes(movie.id)==true?setTBtn('del'):setTBtn('add');},[]);var handleBtnWatched=function handleBtnWatched(){props.handleWatched();setWBtn('del');// console.log(wBtn);\n};var handleDelWatched=function handleDelWatched(){handleDeleteWatched(movie.id);setWBtn('add');};var handleBtnToWatch=function handleBtnToWatch(){props.handleToWatch();setTBtn('del');// console.log(wBtn);\n};var handleDelToWatch=function handleDelToWatch(){handleDeleteToWatch(movie.id);setTBtn('add');// console.log(wBtn);\n};var handleDeleteWatched=function handleDeleteWatched(id){var watchedListData=localStorage.getItem('listWatched');var watchedList=JSON.parse(watchedListData);var movieIdx=watchedList.indexOf(watchedList.find(function(elem){return elem.id===id;}));watchedList.splice(movieIdx,1);localStorage.setItem('listWatched',JSON.stringify(watchedList));console.log(movieIdx);};var handleDeleteToWatch=function handleDeleteToWatch(id){var toWatchListData=localStorage.getItem('listToWatch');var toWatchList=JSON.parse(toWatchListData);var movieIdx=toWatchList.indexOf(toWatchList.find(function(elem){return elem.id===id;}));toWatchList.splice(movieIdx,1);localStorage.setItem('listToWatch',JSON.stringify(toWatchList));console.log(movieIdx);};return/*#__PURE__*/_jsxs(\"div\",{className:\"single_page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:movie.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"single\",children:[/*#__PURE__*/_jsx(\"img\",{src:imgBaseUrl+movie.poster_path,alt:movie.title}),/*#__PURE__*/_jsxs(\"span\",{className:\"rate\",children:[\"Rate: \",movie.vote_average]}),/*#__PURE__*/_jsx(\"p\",{className:\"overview\",children:movie.overview}),/*#__PURE__*/_jsxs(\"div\",{children:[wBtn==='add'?/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleBtnWatched();},children:\"Add to Watched\"}),\" \"]}):wBtn==='del'?/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleDelWatched();},children:\"Remove from Watched\"}),\" \"]}):alert('btn watched broken!'),tBtn==='add'?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleBtnToWatch();},children:\"Add To To-Watch\"}):tBtn==='del'?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleDelToWatch();},children:\"Remove from To-Watch\"}):alert('btn to watch broken!')]}),/*#__PURE__*/_jsx(\"button\",{className:\"close_btn\",onClick:function onClick(){props.closeSinglePage('closed');},children:\"X\"})]})]});}","map":{"version":3,"names":["useState","useEffect","React","SinglePage","props","imgBaseUrl","movie","clickedMovieData","wArr","watchedArr","tArr","toWatchArr","wBtn","setWBtn","tBtn","setTBtn","includes","id","handleBtnWatched","handleWatched","handleDelWatched","handleDeleteWatched","handleBtnToWatch","handleToWatch","handleDelToWatch","handleDeleteToWatch","watchedListData","localStorage","getItem","watchedList","JSON","parse","movieIdx","indexOf","find","elem","splice","setItem","stringify","console","log","toWatchListData","toWatchList","title","poster_path","vote_average","overview","alert","closeSinglePage"],"sources":["/Users/andriimakarov/Documents/GitHub/kino-react-app/kinomak/src/components/SinglePage.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport React from 'react'\n\nexport default function SinglePage(props) {\n    const imgBaseUrl = 'http://image.tmdb.org/t/p/w500';\n    const movie = props.clickedMovieData;\n    const wArr = props.watchedArr;\n    const tArr = props.toWatchArr;\n    const [ wBtn , setWBtn ] = useState('add');\n    const [tBtn , setTBtn] = useState('add');\n    \n    \n    useEffect(()=>{\n      wArr.includes(movie.id) == true ? setWBtn('del') : setWBtn('add');\n      tArr.includes(movie.id) == true ? setTBtn('del') : setTBtn('add');\n    }, []);\n\n    const handleBtnWatched = ()=>{\n      props.handleWatched();   \n      setWBtn('del');\n      // console.log(wBtn);\n    }\n    const handleDelWatched = ()=>{\n      handleDeleteWatched(movie.id);\n      setWBtn('add');\n      \n    };\n\n    const handleBtnToWatch = ()=>{\n      props.handleToWatch();   \n      setTBtn('del');\n      // console.log(wBtn);\n    }\n    const handleDelToWatch = ()=>{\n      handleDeleteToWatch(movie.id);\n      setTBtn('add');\n      // console.log(wBtn);\n    };\n\n\n\n    const handleDeleteWatched = (id)=>{\n      const watchedListData = localStorage.getItem('listWatched');\n      const watchedList = JSON.parse(watchedListData);\n      const movieIdx = watchedList.indexOf(watchedList.find(elem => elem.id === id))\n      watchedList.splice( movieIdx, 1);\n      localStorage.setItem('listWatched' , JSON.stringify(watchedList));\n      console.log(movieIdx)\n    };\n\n    const handleDeleteToWatch = (id)=>{\n      const toWatchListData = localStorage.getItem('listToWatch');\n      const toWatchList = JSON.parse(toWatchListData);\n      const movieIdx = toWatchList.indexOf(toWatchList.find(elem => elem.id === id))\n      toWatchList.splice( movieIdx, 1);\n      localStorage.setItem('listToWatch' , JSON.stringify(toWatchList));\n      console.log(movieIdx)\n    };\n\n  return (\n    <div className='single_page'>\n      \n       <h2>{movie.title}</h2> \n      <div className=\"single\">\n       <img src={imgBaseUrl+movie.poster_path} alt={movie.title}/>\n       <span className='rate' >Rate: {movie.vote_average}</span>\n       <p className='overview'>{ movie.overview }</p>      \n       <div>\n           {wBtn === 'add' ? <> <button onClick = {()=>{handleBtnWatched()}} >Add to Watched</button> </>\n           : wBtn === 'del' ? <> <button onClick={()=>{handleDelWatched()}}>Remove from Watched</button> </> \n           : alert('btn watched broken!') } \n\n       { tBtn ==='add' ? <button onClick = {()=>{handleBtnToWatch()}} >Add To To-Watch</button> : \n         tBtn ==='del'? <button onClick = {()=>{handleDelToWatch()}} >Remove from To-Watch</button> \n         : alert('btn to watch broken!')\n       }\n       \n\n       </div>\n       <button className=\"close_btn\" onClick={()=>{props.closeSinglePage('closed')}}>X</button>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}